<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script type="importmap">
      {
        "imports": {
          "ball": "/libs/ball.js",
          "utils": "/libs/utils.js"
        }
      }
    </script>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <p>
    Smooth up and down motion using <code>sin</code> function
  </p>

  <canvas id="canvas" width="400" height="400"></canvas>

  <script type="module">
    import { Ball } from 'ball';

    const canvas = document.getElementById('canvas');
    const context = canvas.getContext('2d');
    const ball = new Ball();

    let angle = 0;
    let centerY = 200;
    let range  = 50;
    let speed = 0.05;

    ball.x = canvas.width / 2;

    function drawFrame() {
      window.requestAnimationFrame(drawFrame, canvas);
      context.clearRect(0, 0, canvas.width, canvas.height);

      // sin magic!!!
      ball.y = centerY  + Math.sin(angle) * range;
      angle += 0.1;
      ball.draw(context);
    }

    drawFrame();
  </script>
</body>

</html>