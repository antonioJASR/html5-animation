<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script type="importmap">
      {
        "imports": {
          "ball": "/libs/ball.js",
          "utils": "/libs/utils.js"
        }
      }
    </script>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <p>
    Smooth up and down motion using <code>sin</code> function
  </p>

  <canvas id="canvas" width="400" height="400"></canvas>

  <script type="module">
    import { Ball } from 'ball';

    const canvas = document.getElementById('canvas');
    const context = canvas.getContext('2d');
    const ball = new Ball();

    const centerY = 200;
    const centerX = canvas.width / 2;
    let angle = 0;
    let range  = 50;
    let yspeed = 0.05;
    let xspeed = 1;

    function drawFrame() {
      window.requestAnimationFrame(drawFrame, canvas);
      context.clearRect(0, 0, canvas.width, canvas.height);

      ball.x = centerX + Math.sin(angle / 2) * range;
      // sin magic!!!
      ball.y = centerY  + Math.sin(angle) * range;
      angle += yspeed;
      ball.draw(context);
    }

    drawFrame();
  </script>
</body>

</html>